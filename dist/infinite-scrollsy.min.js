!function(a){var b=a.module("infiniteScrollsy",[]);b.directive("infiniteScrollsy",["$timeout","$window",function(a,b){return{restrict:"A",scope:{handler:"&infiniteScrollsyHandler",skip:"=infiniteScrollsySkip"},link:function(c,d,e){var f,g,h,i=d[0],j={time:parseInt(e.infiniteScrollsyThrottle||100,10),scroll:parseInt(e.infiniteScrollsyDistance||500,10),idle:parseInt(e.infiniteScrollsyIdle||100,10),flex:e.infiniteScrollsyFlex?b.innerHeight:0},k={scrollTop:null,invocation:null};return j.flex&&(j.scroll=j.flex-j.scroll),g=function(a,c){c=c||500;var d,e;return function(){var f=+new Date,g=arguments;d&&d+c>f?(b.clearTimeout(e),e=b.setTimeout(function(){d=f,a.apply(this,g)},c)):(d=f,a.apply(this,g))}},f=function(){if(!c.skip){var a=!1,b=i.clientHeight+i.scrollTop,d=i.scrollHeight-b;return a=i.scrollTop>0&&(k.scrollTop||i.scrollTop>k.scrollTop)&&(d<j.scroll||0>=d)&&+new Date-k.invocation>=j.idle,k.scrollTop=i.scrollTop,a?h():void 0}},h=function(){return k.invocation=+new Date,a(c.handler)},d.bind("scroll",g(f,j.time)),c.$on("$destroy",function(){d.unbind("scroll",f)}),f()}}}])}(angular,void 0);